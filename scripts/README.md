# ๐ฆ Import Week Script

## ะะฐะทะฝะฐัะตะฝะธะต

ะกะบัะธะฟั `import-week.mjs` ะธะผะฟะพััะธััะตั ัะณะตะฝะตัะธัะพะฒะฐะฝะฝัั ััะตะฝะธัะพะฒะพัะฝัั ะฝะตะดะตะปั ะธะท JSON ัะฐะนะปะฐ ะฒ ะฑะฐะทั ะดะฐะฝะฝัั Supabase.

---

## ะัะฟะพะปัะทะพะฒะฐะฝะธะต

```bash
npm run import-week -- path/to/week-X.json
```

### ะัะธะผะตัั:

```bash
# ะะผะฟะพัั ะฝะตะดะตะปะธ ะธะท ะฟะฐะฟะบะธ examples
npm run import-week -- docs/content-planning/examples/week-1.json

# ะะผะฟะพัั ะธะท ะบะพัะฝั ะฟัะพะตะบัะฐ
npm run import-week -- week-5.json

# ะะผะฟะพัั ั ะฟะพะปะฝัะผ ะฟััะตะผ
npm run import-week -- C:/Users/loki2/MargoFitneess/week-10.json
```

---

## ะงัะพ ะดะตะปะฐะตั ัะบัะธะฟั:

1. โ ะงะธัะฐะตั JSON ัะฐะนะป ั ะดะฐะฝะฝัะผะธ ะฝะตะดะตะปะธ
2. โ ะะพะดะบะปััะฐะตััั ะบ Supabase
3. โ ะกะพะทะดะฐะตั ะทะฐะฟะธัั ะฒ ัะฐะฑะปะธัะต `content_weeks`
4. โ ะะปั ะบะฐะถะดะพะน ััะตะฝะธัะพะฒะบะธ ัะพะทะดะฐะตั ะทะฐะฟะธัั ะฒ `workout_sessions`
5. โ ะะปั ะบะฐะถะดะพะณะพ ัะฟัะฐะถะฝะตะฝะธั ัะพะทะดะฐะตั ะทะฐะฟะธัั ะฒ `exercises`
6. โ ะะฑะฝะพะฒะปัะตั `docs/content-planning/history/weeks-tracker.json`
7. โ ะัะฒะพะดะธั ััะฐัะธััะธะบั

---

## ะะฐัััะพะนะบะฐ

### ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั

ะกะบัะธะฟั ััะตะฑัะตั ัะปะตะดัััะธะต ะฟะตัะตะผะตะฝะฝัะต ะฒ ัะฐะนะปะต `.env.local`:

```env
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key
```

**ะะดะต ะฒะทััั:**
1. ะัะบัะพะน ะฟัะพะตะบั ะฒ Supabase Dashboard
2. Settings โ API
3. ะกะบะพะฟะธััะน URL ะธ Service Role Key

โ๏ธ **ะะฐะถะฝะพ:** Service Role Key (ะฝะต anon key!) - ะพะฝ ะฝัะถะตะฝ ะดะปั ะฟะพะปะฝะพะณะพ ะดะพัััะฟะฐ ะบ ะะ ะธะท ัะบัะธะฟัะฐ.

---

## ะคะพัะผะฐั JSON ัะฐะนะปะฐ

```json
{
  "week_number": 5,
  "week_title": "ะะตะดะตะปั 5: ะะฐะปะฐะฝั ะธ ัะธะปะฐ",
  "week_description": "ะญัะฐ ะฝะตะดะตะปั ัะพะบััะธััะตััั ะฝะฐ...",
  "start_date": "2026-02-03",
  "is_published": true,
  "workouts": [
    {
      "workout_number": 1,
      "title": "ะะธะถะฝัั ัะฐััั: ะะฒะฐะดัะธัะตะฟัั ะธ ัะณะพะดะธัั",
      "description": "ะกะธะปะพะฒะฐั ััะตะฝะธัะพะฒะบะฐ...",
      "duration_minutes": 40,
      "difficulty_level": "intermediate",
      "required_tier": "basic",
      "exercises": [
        {
          "exercise_order": 1,
          "exercise_id": "1.1.2",
          "title": "ะัะธัะตะดะฐะฝะธั ั ะณะฐะฝัะตะปัะผะธ ั ะฟะปะตั",
          "description": "ะะฐะทะพะฒะพะต ัะฟัะฐะถะฝะตะฝะธะต...",
          "video_url": null,
          "thumbnail_url": null,
          "sets": 4,
          "reps": "12-15",
          "rest_seconds": 60,
          "duration_seconds": null,
          "equipment": "ะะฐะฝัะตะปะธ 4-6 ะบะณ",
          "target_muscles": "ะะฒะฐะดัะธัะตะฟัั, ัะณะพะดะธัั, ะบะพั",
          "instructions": "1. ะััะฐะฝั...\n2. ะะตัะถะธ...",
          "common_mistakes": "- ะะพะปะตะฝะธ ััะพะดัั ะฒะฝัััั\n- ...",
          "modifications": "ะะฑะปะตะณััะฝะฝัะน ะฒะฐัะธะฐะฝั: ...",
          "notes": "ะะบัะตะฝั ะฝะฐ ะณะปัะฑะธะฝั ะฟัะธัะตะดะฐ"
        }
      ]
    }
  ]
}
```

---

## ะัะธะผะตั ะฒัะฒะพะดะฐ

```
๐ ะงะธัะฐะตะผ ัะฐะนะป: docs/content-planning/examples/week-1.json

๐ ะะฐัะธะฝะฐะตะผ ะธะผะฟะพัั ะฝะตะดะตะปะธ 1: "ะะตะดะตะปั 1: ะกัะฐัั ะฟัะพะณัะฐะผะผั"
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ ะกะพะทะดะฐะตะผ ะทะฐะฟะธัั content_weeks...
โ ะะตะดะตะปั ัะพะทะดะฐะฝะฐ (ID: 123)

๐๏ธ ะกะพะทะดะฐะตะผ ััะตะฝะธัะพะฒะบะธ...
  โ ะขัะตะฝะธัะพะฒะบะฐ 1: ะะธะถะฝัั ัะฐััั (ID: 456)
     ๐ ะกะพะทะดะฐะตะผ 5 ัะฟัะฐะถะฝะตะฝะธะน...
     โ 5 ัะฟัะฐะถะฝะตะฝะธะน ะดะพะฑะฐะฒะปะตะฝะพ
  โ ะขัะตะฝะธัะพะฒะบะฐ 2: ะะตััะฝัั ัะฐััั (ID: 457)
     ๐ ะกะพะทะดะฐะตะผ 5 ัะฟัะฐะถะฝะตะฝะธะน...
     โ 5 ัะฟัะฐะถะฝะตะฝะธะน ะดะพะฑะฐะฒะปะตะฝะพ
  โ ะขัะตะฝะธัะพะฒะบะฐ 3: ะััะณะพะฒะฐั (ID: 458)
     ๐ ะกะพะทะดะฐะตะผ 5 ัะฟัะฐะถะฝะตะฝะธะน...
     โ 5 ัะฟัะฐะถะฝะตะฝะธะน ะดะพะฑะฐะฒะปะตะฝะพ

๐ ะะฑะฝะพะฒะปัะตะผ weeks-tracker.json...
โ weeks-tracker.json ะพะฑะฝะพะฒะปะตะฝ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ ะะผะฟะพัั ะทะฐะฒะตััะตะฝ ััะฟะตัะฝะพ!
๐ ะกัะฐัะธััะธะบะฐ:
   โข ะะตะดะตะปั: 1
   โข ะขัะตะฝะธัะพะฒะพะบ: 3
   โข ะฃะฟัะฐะถะฝะตะฝะธะน: 15
   โข ะะฐัะฐ ััะฐััะฐ: 2026-01-27
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ะัะธะฑะบะธ ะธ ัะตัะตะฝะธั

### โ "ะะต ัััะฐะฝะพะฒะปะตะฝั ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั"

**ะะตัะตะฝะธะต:** ะกะพะทะดะฐะน `.env.local` ะธ ะดะพะฑะฐะฒั `SUPABASE_SERVICE_ROLE_KEY`

### โ "ะัะธะฑะบะฐ ััะตะฝะธั ัะฐะนะปะฐ"

**ะะตัะตะฝะธะต:** ะัะพะฒะตัั ะฟัะฐะฒะธะปัะฝะพััั ะฟััะธ ะบ JSON ัะฐะนะปั

### โ "ะัะธะฑะบะฐ ัะพะทะดะฐะฝะธั ะฝะตะดะตะปะธ: duplicate key"

**ะะตัะตะฝะธะต:** ะะตะดะตะปั ั ัะฐะบะธะผ ะฝะพะผะตัะพะผ ัะถะต ัััะตััะฒัะตั. ะฃะดะฐะปะธ ะตั ะธะท Supabase ะธะปะธ ะธะทะผะตะฝะธ ะฝะพะผะตั ะฝะตะดะตะปะธ.

### โ "ะัะธะฑะบะฐ ะฟะพะดะบะปััะตะฝะธั ะบ Supabase"

**ะะตัะตะฝะธะต:** ะัะพะฒะตัั ะฟัะฐะฒะธะปัะฝะพััั SUPABASE_URL ะธ ััะพ ั ัะตะฑั ะตััั ะธะฝัะตัะฝะตั

---

## ะัะบะฐั ะธะทะผะตะฝะตะฝะธะน

ะัะปะธ ะธะผะฟะพัั ะฟัะพัะตะป ัะฐััะธัะฝะพ, ัะดะฐะปะธ ะดะฐะฝะฝัะต ะฒัััะฝัั ะธะท Supabase:

1. ะัะบัะพะน Supabase โ Table Editor
2. ะะฐะนะดะธ ัะพะทะดะฐะฝะฝัั ะฝะตะดะตะปั ะฒ `content_weeks`
3. ะฃะดะฐะปะธ ะทะฐะฟะธัั (ัะฒัะทะฐะฝะฝัะต `workout_sessions` ะธ `exercises` ัะดะฐะปัััั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฑะปะฐะณะพะดะฐัั CASCADE)

---

## ะะตะบะพะผะตะฝะดะฐัะธะธ

โ **ะะตะปะฐะน ะฑัะบะฐะฟ ะฟะตัะตะด ะธะผะฟะพััะพะผ:**
```bash
cp docs/content-planning/history/weeks-tracker.json docs/content-planning/history/weeks-tracker.backup.json
```

โ **ะัะพะฒะตััะน JSON ะฟะตัะตะด ะธะผะฟะพััะพะผ:**
- ะัะฐะฒะธะปัะฝะพััั ััััะบัััั
- ะะฐะปะธัะธะต ะฒัะตั ะพะฑัะทะฐัะตะปัะฝัั ะฟะพะปะตะน
- ะะพััะตะบัะฝะพััั ะฝะพะผะตัะฐ ะฝะตะดะตะปะธ

โ **ะขะตััะธััะน ะฝะฐ ะดะตะฒะต:**
ะกะฝะฐัะฐะปะฐ ะธะผะฟะพััะธััะน ะฝะฐ dev ะพะบััะถะตะฝะธะต, ะฟัะพะฒะตัั ะฝะฐ ัะฐะนัะต, ะฟะพัะพะผ ะฝะฐ prod.

---

**ะะพัะปะตะดะฝะตะต ะพะฑะฝะพะฒะปะตะฝะธะต:** 28 ัะฝะฒะฐัั 2026  
**ะะฒัะพั:** AI Content System
